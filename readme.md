# FrameSource üì∑üñºÔ∏è

FrameSource is a flexible, extensible Python framework for acquiring frames from a wide variety of sources such as webcams, industrial cameras, IP cameras, video files, and even folders of images‚Äîusing a unified interface. It was created to support my many projects that require switching between different frame providers without changing the downstream frame processing code.

> **Note:** This project was mostly written with the help of GitHub Copilot ü§ñ, making development fast, fun, and consistent! Even this README was largely generated by Copilot.

## Demo

![FrameSource Demo](media/demo.gif)

## Why FrameSource?

When I work on computer vision, robotics, or video analytics projects, I often need to swap between different sources of frames: a webcam for quick tests, a folder of images for batch processing, a video file for reproducibility, or a specialized camera for deployment. FrameSource lets me do this with minimal code changes‚Äîjust swap the provider!

## Features ‚ú®

- Unified interface for all frame sources (cameras, video files, image folders, screen capture)
- Easily extensible with new capture types
- Threaded/background capture support for smooth frame acquisition
- Control over exposure, gain, resolution, FPS (where supported by the source)
- Real-time playback and looping for video and image folders
- Simple factory pattern for instantiating sources

## Supported Sources

- üñ•Ô∏è **Webcam** (OpenCV)
- üåê **IP Camera** (RTSP/HTTP)
- üé• **Video File** (MP4, AVI, etc.)
- üóÇÔ∏è **Folder of Images** (sorted by name or creation time)
- üè≠ **Industrial Cameras** (e.g., Ximea, Basler, Huateng)
- üñºÔ∏è **Screen Capture** (live region of your desktop)

## Installation

Clone the repository and install with pip:

```sh
git clone https://github.com/olkham/FrameSource.git
cd framesource
pip install .
```

Or for development (editable) install:

```sh
pip install -e .
```

## Example Usage

### 1. Using the Factory


```python
from frame_source import FrameSourceFactory

# Webcam
cap = FrameSourceFactory.create('webcam', source=0)
cap.connect()
ret, frame = cap.read()
cap.disconnect()


# Video file (see demo in media/demo.mp4)
cap = FrameSourceFactory.create('video_file', source='media/demo.mp4', loop=True)
cap.connect()
while cap.is_connected:
    ret, frame = cap.read()
    if not ret:
        break
cap.disconnect()

# Folder of images
cap = FrameSourceFactory.create('folder', source='media/image_seq', sort_by='date', fps=10, loop=True)
cap.connect()
cap.start()  # For background capture
while cap.is_connected:
    ret, frame = cap.read()
    if not ret:
        break
cap.disconnect()
```

### 2. Direct Use

#### Folder of Images
```python
from frame_source.folder_capture import FolderCapture
cap = FolderCapture('media/image_seq', sort_by='name', width=640, height=480, fps=15, real_time=True, loop=True)
cap.connect()
while cap.is_connected:
    ret, frame = cap.read()
    if not ret:
        break
cap.disconnect()
```

#### Screen Capture
```python
from frame_source.screen_capture import ScreenCapture
cap = ScreenCapture(x=100, y=100, w=800, h=600, fps=30)
cap.connect()
cap.start()  # For background capture (optional)
while cap.is_connected:
    ret, frame = cap.read()
    if not ret:
        break
    # process or display frame
cap.disconnect()
```

## Extending FrameSource

Want to add a new camera or source? Just subclass `VideoCaptureBase` and register it:

```python
from frame_source import FrameSourceFactory
FrameSourceFactory.register_capture_type('my_camera', MyCameraCapture)
```

## Credits

- Written by me, with lots of help from GitHub Copilot ü§ñ
- OpenCV and other camera SDKs for backend support


---

Happy frame grabbing! üöÄ
